---
layout: archive
permalink: /news/
title: "News"
titleshow: false
author_profile: false
toc: false
redirect_from:
  - /news/year/
---


{% include base_path %}

{% assign posts_by_year = site.posts | group_by_exp: "post", "post.date | date: '%Y'" | sort: "name" | reverse %}

<!-- 分组侧边栏 -->
<div class="filter-sidebar">
  <h3>News filters</h3>

  {% comment %} 收集所有标签并按类别分组 {% endcomment %}
  {% assign tag_groups = "" | split: "," %}
  {% assign categories = "" | split: "," %}

  {% for post in site.posts %}
    {% if post.tags %}
      {% for tag in post.tags %}
        {% assign tag_parts = tag | split: ":" %}
        {% if tag_parts.size >= 2 %}
          {% assign category = tag_parts[0] | strip %}
          {% assign value = tag_parts[1] | strip %}

          {% comment %} 收集类别 {% endcomment %}
          {% unless categories contains category %}
            {% assign categories = categories | push: category %}
          {% endunless %}

          {% comment %} 存储标签到组 {% endcomment %}
          {% capture group_entry %}{{ category }}|{{ value }}{% endcapture %}
          {% unless tag_groups contains group_entry %}
            {% assign tag_groups = tag_groups | push: group_entry %}
          {% endunless %}
        {% endif %}
      {% endfor %}
    {% endif %}
  {% endfor %}

  {% comment %} 按指定顺序排序类别 {% endcomment %}
  {% assign category_order = "Research Area,topic,method,output type,additional,Domain,Catagory,output" | split: "," %}
  {% assign sorted_categories = "" | split: "," %}

  {% for order_cat in category_order %}
    {% if categories contains order_cat %}
      {% assign sorted_categories = sorted_categories | push: order_cat %}
    {% endif %}
  {% endfor %}

  {% comment %} 添加未在顺序中的类别 {% endcomment %}
  {% for cat in categories %}
    {% unless sorted_categories contains cat %}
      {% assign sorted_categories = sorted_categories | push: cat %}
    {% endunless %}
  {% endfor %}

  {% comment %} 显示分组标签 {% endcomment %}
  <div id="tag-filter">
    {% for category in sorted_categories %}
      <div class="filter-group">
        <h4>{{ category }}</h4>
        <div class="filter-buttons">
          {% for entry in tag_groups %}
            {% assign parts = entry | split: "|" %}
            {% if parts[0] == category %}
              <button class="tag-btn" data-tag="{{ entry }}">
                {{ parts[1] }}
              </button>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    {% endfor %}
  </div>

  <div class="filter-actions">
    <button id="clear-filters">Clear Filters</button>
  </div>

  <div class="active-filters">
    <span>Active filters: </span>
    <span id="active-tags">None</span>
  </div>
</div>

<!-- 文章列表 -->
<div class="main-content">
  {% for year_group in posts_by_year %}
    <section class="year-section" data-year="{{ year_group.name }}">
      <h1 id="{{ year_group.name | slugify }}" class="archive__subtitle">
        {{ year_group.name }} ({{ year_group.items.size }})
      </h1>

      <div class="grid__wrapper">
        {% for post in year_group.items %}
          <article class="archive__item"
                   data-tags="{{ post.tags | join: '|' }}"
                   itemscope itemtype="http://schema.org/CreativeWork">

            {% if post.image_path %}
              <div class="archive__item-teaser">
                <a href="{{ base_path }}{{ post.url }}" rel="permalink">
                  <img
                    style="height:210px;object-fit:cover;"
                    src=
                    {% if post.image_path contains "://" %}
                      "{{ post.image_path }}"
                    {% else %}
                      "{{ post.image_path | prepend: "/images/" | prepend: base_path }}"
                    {% endif %}
                  alt="{% if post.alt %}{{ post.alt }}{% endif %}">
                </a>
              </div>
            {% else %}
              <div class="archive__item-teaser">
                <a href="{{ base_path }}{{ post.url }}" rel="permalink">
                  <img
                    style="height:210px;object-fit:cover;"
                    src="{{ '/images/Loading.png' | prepend: base_path }}"
                    alt="Default image">
                </a>
              </div>
            {% endif %}

            {% if post.id %}
              {% assign title = post.covertitle | markdownify | remove: "<p>" | remove: "</p>" %}
            {% else %}
              {% assign title = post.covertitle %}
            {% endif %}

            <div class="archive__item-title">
              {% if post.link %}
                <a href="{{ post.link }}">{{ title }}</a> <a href="{{ base_path }}{{ post.url }}" rel="permalink"><i class="fa fa-link" aria-hidden="true" title="permalink"></i><span class="sr-only">Permalink</span></a>
              {% else %}
                <a href="{{ base_path }}{{ post.url }}" rel="permalink">{{ title }}</a>
              {% endif %}
            </div>

            {% if post.collection == 'teaching' %}
              <div> {{ post.type }}, <i>{{ post.venue }}</i>, {{ post.date | default: "1900-01-01" | date: "%Y" }} </div>
            {% elsif post.collection == 'publications' %}
              <div>Published in <i>{{ post.venue }}</i>, {{ post.date | default: "1900-01-01" | date: "%Y" }} </div>
            {% elsif post.date %}
              <div class="page__meta"> <i class="fa fa-calendar" aria-hidden="true"></i> <time datetime="{{ post.date | default: "1900-01-01" | date_to_xmlschema }}">{{ post.date | default: "1900-01-01" | date: " %B %d, %Y" }}</time></div>
            {% endif %}

            {% if post.excerpt %}
              <small class="archive__item-excerpt" itemprop="description">{{ post.excerpt | markdownify }}</small>
            {% endif %}
          </article>
        {% endfor %}
      </div>
    </section>
  {% endfor %}
</div>

<style>
/* 侧边栏样式 */
.filter-sidebar {
  position: fixed;
  left: 0;
  top: 100px;
  width: 280px;
  max-height: 80vh;
  overflow-y: auto;
  background: #f8f9fa;
  padding: 15px;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  box-shadow: 2px 0 10px rgba(0,0,0,0.1);
  z-index: 1000;
  font-size: 0.9rem;
}

.filter-sidebar h3 {
  margin: 0 0 10px 0;
  font-size: 1.1rem;
  color: #333;
  font-weight: 600;
}

.filter-group {
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px dashed #e0e0e0;
}

.filter-group:last-child {
  border-bottom: none;
}

.filter-group h4 {
  margin: 0 0 8px 0;
  font-size: 0.95rem;
  font-weight: 600;
  color: #555;
}

.filter-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

.tag-btn {
  padding: 4px 8px;
  background-color: #e9ecef;
  border: 1px solid #ced4da;
  border-radius: 12px;
  font-size: 0.85rem;
  cursor: pointer;
  transition: all 0.2s ease;
  color: #495057;
  white-space: nowrap;
}

.tag-btn:hover {
  background-color: #dee2e6;
}

.tag-btn.active {
  background-color: #007bff;
  color: white;
  border-color: #006fe6;
}

.filter-actions {
  margin-top: 15px;
  padding-top: 10px;
  border-top: 1px solid #dee2e6;
}

.filter-actions button {
  padding: 6px 12px;
  background-color: #6c757d;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  width: 100%;
  font-size: 0.9rem;
}

.active-filters {
  font-size: 0.85rem;
  color: #6c757d;
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid #dee2e6;
}

/* 主内容区域 */
.main-content {
  margin-left: 320px;
  padding: 0 20px;
}

.year-section {
  margin-bottom: 2rem;
}

.archive__subtitle {
  font-size: 1.8rem;
  margin-bottom: 1rem;
  font-weight: 600;
}

.grid__wrapper {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1.5rem;
}

.archive__item {
  background: white;
  border: 1px solid #eaeaea;
  border-radius: 8px;
  overflow: hidden;
  transition: transform 0.2s, box-shadow 0.2s;
}

.archive__item:hover {
  transform: translateY(-3px);
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.archive__item-teaser img {
  width: 100%;
  height: 210px;
  object-fit: cover;
  display: block;
}

.archive__item-title {
  padding: 1rem 1rem 0.5rem;
  font-size: 1.2rem;
  font-weight: 600;
}

.archive__item-title a {
  color: #2c3e50;
  text-decoration: none;
}

.archive__item-title a:hover {
  color: #007bff;
}

.page__meta {
  padding: 0 1rem;
  color: #6c757d;
  font-size: 0.9rem;
}

.archive__item-excerpt {
  padding: 0.5rem 1rem 1rem;
  display: block;
  color: #495057;
  font-size: 0.95rem;
  line-height: 1.5;
}

/* 响应式 */
@media (max-width: 1024px) {
  .filter-sidebar {
    position: static;
    width: 100%;
    margin-bottom: 20px;
  }

  .main-content {
    margin-left: 0;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const tagButtons = document.querySelectorAll('.tag-btn');
  const clearButton = document.getElementById('clear-filters');
  const activeTagsSpan = document.getElementById('active-tags');
  const articles = document.querySelectorAll('.archive__item');
  const yearSections = document.querySelectorAll('.year-section');

  let activeFilters = new Set();

  // 标签点击事件
  tagButtons.forEach(button => {
    button.addEventListener('click', function() {
      const tag = this.dataset.tag;

      if (activeFilters.has(tag)) {
        activeFilters.delete(tag);
        this.classList.remove('active');
      } else {
        activeFilters.add(tag);
        this.classList.add('active');
      }

      updateDisplay();
      applyFilters();
    });
  });

  // 清除按钮
  clearButton.addEventListener('click', function() {
    activeFilters.clear();
    tagButtons.forEach(btn => btn.classList.remove('active'));
    updateDisplay();
    applyFilters();
  });

  function updateDisplay() {
    if (activeFilters.size === 0) {
      activeTagsSpan.textContent = 'None';
    } else {
      // 显示友好的标签名称（去掉类别部分）
      const displayTags = Array.from(activeFilters).map(tag => {
        const parts = tag.split('|');
        return parts[1]; // 只显示值部分
      });
      activeTagsSpan.textContent = displayTags.join(', ');
    }
  }

  function applyFilters() {
    if (activeFilters.size === 0) {
      // 显示所有文章和年份
      articles.forEach(a => a.style.display = '');
      yearSections.forEach(s => s.style.display = '');
      return;
    }

    // 筛选文章
    articles.forEach(article => {
      const tags = article.dataset.tags.split('|');
      const show = tags.some(tag => activeFilters.has(tag));
      article.style.display = show ? '' : 'none';
    });

    // 隐藏空年份
    yearSections.forEach(section => {
      const visible = section.querySelectorAll('.archive__item:not([style*="display: none"])');
      section.style.display = visible.length > 0 ? '' : 'none';
    });
  }
});
</script>




{% comment %}
<!--
 {% capture written_year %}'None'{% endcapture %}
{% for post in site.posts %}
  {% capture year %}{{ post.date | date: '%Y' }}{% endcapture %}
  {% if year != written_year %}
    <h2 id="{{ year | slugify }}" class="archive__subtitle">{{ year }}</h2>
    {% capture written_year %}{{ year }}{% endcapture %}
  {% endif %}

  {% include archive-single.html type="grid" %}
{% endfor %} -->
{% endcomment %}
